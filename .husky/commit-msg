#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Validate commit message format
# Enforces conventional commit style (optional but recommended)
commit_msg=$(cat "$1")

# Check for minimum commit message length
if [ ${#commit_msg} -lt 10 ]; then
  echo ""
  echo "❌ Commit message too short (minimum 10 characters)"
  echo "   Please provide a meaningful commit message"
  echo ""
  exit 1
fi

# Optional: Check for conventional commit format
# Uncomment to enforce: feat:, fix:, docs:, etc.
# if ! echo "$commit_msg" | grep -qE "^(feat|fix|docs|style|refactor|test|chore|perf|ci|build|revert)(\(.+\))?: .+"; then
#   echo ""
#   echo "❌ Invalid commit message format"
#   echo "   Expected: <type>: <description>"
#   echo "   Example: feat: add login functionality"
#   echo "   Types: feat, fix, docs, style, refactor, test, chore, perf, ci, build, revert"
#   echo ""
#   exit 1
# fi

echo "✅ Commit message validated"
